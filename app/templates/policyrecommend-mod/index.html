{% extends "users/dashboard.html" %}

{% block content %}

    <h1>Policy Recommendation System</h1>
    <div class="form-container">
        <form method="POST">
            <div class="form-group">
                <label for="customer_age">Customer Age:</label>
                <input type="number" id="customer_age" name="customer_age" min="0" max="100" required>
            </div>

            <div class="form-group">
                <label for="occupation">Occupation:</label>
                <select id="occupation" name="occupation" required>
                    <option value="">Select Occupation</option>
                    {% for value in unique_values['Occupation'] %}
                        <option value="{{ value }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="income">Income:</label>
                <input type="number" id="income" name="income" min="0" max="1000000" required>
            </div>

            <div class="form-group">
                <label for="education">Education:</label>
                <select id="education" name="education" required>
                    <option value="">Select Education</option>
                    {% for value in unique_values['Education'] %}
                        <option value="{{ value }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="marital_status">Marital Status:</label>
                <select id="marital_status" name="marital_status" required>
                    <option value="">Select Marital Status</option>
                    {% for value in unique_values['Marital Status'] %}
                        <option value="{{ value }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="tenure">Tenure (Years):</label>
                <input type="number" id="tenure" name="tenure" required>
            </div>

            <div class="form-group">
                <label for="premium">Premium (INR):</label>
                <input type="number" id="premium" name="premium" required>
            </div>

            <div class="form-group">
                <label for="coverage">Coverage (INR):</label>
                <input type="number" id="coverage" name="coverage" required>
            </div>

            <div class="form-group">
                <label for="family_size">Family Size:</label>
                <input type="number" id="family_size" name="family_size" required>
            </div>

            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender" required>
                    <option value="">Select Gender</option>
                    {% for value in unique_values['Gender'] %}
                        <option value="{{ value }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="region">Region:</label>
                <select id="region" name="region" required>
                    <option value="">Select Region</option>
                    {% for value in unique_values['Region'] %}
                        <option value="{{ value }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit" class="button">Get Recommendation</button>
        </form>

        {% if prediction %}
        <div class="result">
            <h2>Recommended Policy Type: {{ prediction }}</h2>
        </div>
        {% endif %}
    </div>

{% endblock %}
